USE [TN_CSDLPT]
GO

/****** Object:  StoredProcedure [dbo].[SP_Lay_Thong_Tin_SV_Tu_Login]    Script Date: 3/4/2024 3:37:46 PM ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create PROC [dbo].[SP_Lay_Thong_Tin_SV_Tu_Login]
@TENLOGIN NVARCHAR( 100)
AS
DECLARE @UID INT
DECLARE @MASV NCHAR(10)
SELECT @UID= uid , @MASV= NAME FROM sys.sysusers 
  WHERE sid = SUSER_SID(@TENLOGIN)

SELECT MASV= @MASV, 
       HOTEN = (SELECT HO+ ' '+TEN FROM dbo.SINHVIEN WHERE MASV=@MASV ), 
       TENNHOM=NAME
  FROM sys.sysusers
    WHERE UID = (SELECT groupuid FROM sys.sysmembers WHERE memberuid=@uid)
GO


